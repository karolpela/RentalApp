@page "/new-rental"

<PageTitle>NewRental</PageTitle>
<RadzenRow>
    <RadzenColumn Size="12">
        <RadzenText Text="New Rental" TextStyle="TextStyle.H3" TagName="TagName.H1"/>
    </RadzenColumn>
</RadzenRow>

<RadzenCard Style="height: 80%; margin: 20px; max-height: 800px; width: 80%; max-width: 800px">
    @if (rental == null)
    {
    }
    else
    {
        <RadzenTemplateForm TItem="RentalApp.Shared.Models.Rental" Data="@rental">
            <RadzenRow>
                <RadzenColumn>
                    <RadzenStack Gap="1rem">
                        <RadzenFieldset Text="Properties">
                            <RadzenRow>
                                <RadzenColumn>
                                    <RadzenRow style="margin-bottom: 1rem" AlignItems="Radzen.AlignItems.Center">
                                        <RadzenColumn Size="12" SizeMD="3">
                                            <RadzenLabel Text="Client" Component="FirstName" style="width: 100%"/>
                                        </RadzenColumn>
                                        <RadzenColumn Size="12" SizeMD="9">
                                            <RadzenRow>
                                                <RadzenDropDown @bind-Value="rental.Client" AllowClear="true" Placeholder="Select something" Data="@clients" Style="width: 100%;" TextProperty="FirstName" ValueProperty="Id" Name="PersonId"></RadzenDropDown>
                                            </RadzenRow>
                                        </RadzenColumn>
                                    </RadzenRow>
                                    <RadzenRow style="margin-bottom: 1rem" AlignItems="Radzen.AlignItems.Center">
                                        <RadzenColumn Size="12" SizeMD="3">
                                            <RadzenLabel Text="Equipment" Component="FirstName" style="width: 100%"/>
                                        </RadzenColumn>
                                        <RadzenColumn Size="12" SizeMD="9">
                                            <RadzenRow>
                                                <RadzenDropDown @bind-Value="rental.Equipment" AllowClear="true" Placeholder="Select something" Data="@equipment" Style="width: 100%;" TextProperty="Purpose" ValueProperty="Id" Name="EquipmentId"></RadzenDropDown>
                                            </RadzenRow>
                                        </RadzenColumn>
                                    </RadzenRow>
                                </RadzenColumn>
                                <RadzenColumn>
                                    <RadzenRow style="margin-bottom: 1rem" AlignItems="Radzen.AlignItems.Center">
                                        <RadzenColumn Size="12" SizeMD="3">
                                            <RadzenLabel Text="Start" Component="StartDate" style="width: 100%"/>
                                        </RadzenColumn>
                                        <RadzenColumn Size="12" SizeMD="9">
                                            <RadzenDatePicker style="width: 100%" @bind-Value="rental.StartDate" Name="StartDate"/>
                                        </RadzenColumn>
                                    </RadzenRow>
                                    <RadzenRow style="margin-bottom: 1rem" AlignItems="Radzen.AlignItems.Center">
                                        <RadzenColumn Size="12" SizeMD="3">
                                            <RadzenLabel Text="End" Component="EndDate" style="width: 100%"/>
                                        </RadzenColumn>
                                        <RadzenColumn Size="12" SizeMD="9">
                                            <RadzenDatePicker style="width: 100%" @bind-Value="rental.EndDate" Name="EndDate" />
                                        </RadzenColumn>
                                    </RadzenRow>
                                </RadzenColumn>
                            </RadzenRow>
                            <RadzenRow>
                                <RadzenColumn Size="8">
                                    <RadzenText Text="per day: PLN 60" Style="color: #8f8f8f"></RadzenText>
                                </RadzenColumn>
                                <RadzenColumn Size="4">
                                    <RadzenText Text="base total: PLN 360"></RadzenText>
                                </RadzenColumn>
                            </RadzenRow>
                        </RadzenFieldset>
                        <RadzenFieldset Text="Insurance">
                            <RadzenRow>
                                <RadzenColumn Size="4">
                                    <RadzenRow Style="height: 100%" AlignItems="Radzen.AlignItems.Center">
                                        <RadzenColumn>
                                            <RadzenCheckBox @bind-Value=@insuranceWanted Name="Insurance"/>
                                            <RadzenLabel Text="Insurance" Component="Insurance" style="width: 100%"/>
                                        </RadzenColumn>
                                    </RadzenRow>
                                </RadzenColumn>
                                <RadzenColumn Size="4">
                                    <RadzenRow style="margin-bottom: 1rem; height: 100%" AlignItems="Radzen.AlignItems.Center">
                                        <RadzenColumn Size="12" SizeMD="3">
                                            <RadzenLabel Text="PESEL" Component="Pesel" style="width: 100%"/>
                                        </RadzenColumn>
                                        <RadzenColumn Size="12" SizeMD="9">
                                            <RadzenRow>
                                                <RadzenTextBox @bind-Value="pesel" MaxLength="11" ReadOnly="false" Disabled="true" Style="width: 100%; text-align: center; height: 100%"></RadzenTextBox>
                                            </RadzenRow>
                                        </RadzenColumn>
                                    </RadzenRow>
                                </RadzenColumn>
                            </RadzenRow>
                            <RadzenRow>
                                <RadzenColumn Size="8">
                                    <RadzenText Text="per day: PLN 10" Style="color: #8f8f8f"></RadzenText>
                                </RadzenColumn>
                                <RadzenColumn Size="4" >
                                    <RadzenText Text="insurance total: PLN 60"></RadzenText>
                                </RadzenColumn>
                            </RadzenRow>
                        </RadzenFieldset>
                        <RadzenFieldset Text="Protective gear">
                            <RadzenRow style="margin-bottom: 1rem" AlignItems="Radzen.AlignItems.Center">
                                <RadzenColumn Size="12" SizeMD="4">
                                    <RadzenLabel Text="Protective gear" Component="ProtectiveGear" style="width: 100%"/>
                                </RadzenColumn>
                                <RadzenColumn Size="12" SizeMD="8">
                                    <RadzenDropDown @bind-Value="selectedGear" Multiple="true" AllowClear="true" Placeholder="Select something" Data="@protectiveGear" Style="width: 100%;" TextProperty="Type" ValueProperty="Id" Name="ProtectiveGear"></RadzenDropDown>
                                </RadzenColumn>
                            </RadzenRow>
                            <RadzenRow>
                                <RadzenColumn Size="8">
                                    <RadzenText Text="per day: PLN 20" Style="color: #8f8f8f"></RadzenText>
                                </RadzenColumn>
                                <RadzenColumn Size="4">
                                    <RadzenText Text="gear cost total: PLN 120"></RadzenText>
                                </RadzenColumn>
                            </RadzenRow>
                        </RadzenFieldset>
                    </RadzenStack>
                </RadzenColumn>
            </RadzenRow>
            <RadzenStack Orientation="Radzen.Orientation.Vertical" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.Center" Gap="1rem">
                <RadzenText Text="Total cost: PLN 540" TextStyle="Radzen.Blazor.TextStyle.Body1" Style="text-transform: uppercase; font-weight: bold" />
                <RadzenButton ButtonStyle="ButtonStyle.Primary" ButtonType="ButtonType.Submit" Icon="save" Text="Save" Variant="Variant.Flat"/>
</RadzenStack>
        </RadzenTemplateForm>
    }
</RadzenCard>